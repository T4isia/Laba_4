# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫
import pandas as pd
from matplotlib import pyplot as plt

# –ó–∞–≥—Ä–≥—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
data = pd.read_csv("Titanic_modified.csv")

# –û–ø–∏—Å–∞–Ω–∏–µ –¥–∞—Ç–∞—Å–µ—Ç–∞
print("==============================================")
print("        üö¢ –û–ü–ò–°–ê–ù–ò–ï –§–ê–ô–õ–ê TITANIC üö¢          ")
print("==============================================")
print(
    f"‚ÜîÔ∏è –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫: {data.shape[0]}       "
    f"‚ÜïÔ∏è –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç–æ–ª–±—Ü–æ–≤: {data.shape[1]}"
)
print("==============================================")
print("üóÇÔ∏è –ù–∞–∑–≤–∞–Ω–∏—è —Å—Ç–æ–ª–±—Ü–æ–≤ –∏ –∑–∞ —á—Ç–æ –æ–Ω–∏ –æ—Ç–≤–µ—á–∞—é—Ç:üóÇÔ∏è")
print(f"{data.columns[0]} - üßë‚Äç‚úàÔ∏è –ü–∞—Å—Å–∞–∂–∏—Ä")
print(f"{data.columns[1]} - üìù –í—ã–∂–∏–≤—à–∏–π")
print(f"{data.columns[2]} - üè∑Ô∏è –ò–º—è")
print(f"{data.columns[3]} - üßç‚Äç‚ôÇÔ∏è/üßç‚Äç‚ôÄÔ∏è–ü–æ–ª")
print(f"{data.columns[4]} - üéÇ –í–æ–∑—Ä–∞—Å—Ç")
print(f"{data.columns[5]} - üí≥ –ë–∏–ª–µ—Ç")
print(f"{data.columns[6]} - üí∏ –¶–µ–Ω–∞")
print(f"{data.columns[7]} - ‚öì –ö–∞—é—Ç–∞")
print("==============================================")

# –£–¥–ª–µ–Ω–∏–µ –Ω–µ–Ω—É–∂–Ω—ã—Ö —Å—Ç–æ–ª–±—Ü–æ–≤
print("–£–¥–∞–ª–∏–º –Ω–µ–Ω—É–∂–Ω—ã–µ —Å—Ç–æ–ª–±—Ü—ã: –±–∏–ª–µ—Ç—ã –∏ –∫–∞—é—Ç—ã")
data.drop(['Ticket', 'Cabin'], axis=1, inplace=True)

# –í—ã–≤–æ–¥ –ø–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ–º–æ–≥–æ –¥–∞—Ç–∞—Å–µ—Ç–∞
print("       üìä–í–∏–¥ –¥–∞—Ç–∞—Å–µ—Ç–∞üìä")
print(data)

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
print("==============================================")
print(f"–í –∫–∞–∫–∏—Ö —Å—Ç–æ–ª–±—Ü–∞—Ö –∏ —Å–∫–æ–ª—å–∫–æ –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö: \n{data.isnull().sum()}")

# –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–ø—É—Å–∫–æ–≤ –≤ —Å—Ç–æ–ª–±—Ü–µ 'Age' –º–µ–¥–∏–∞–Ω–æ–π
print("==============================================")
print("–ó–∞–º–µ–Ω–∏–º –ø—É—Å—Ç—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ —Å—Ç–æ–ª–±—Ü–µ –≤–æ–∑—Ä–∞—Å—Ç–∞ –Ω–∞ –º–µ–¥–∏–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ")
data['Age'].fillna(data['Age'].median(), inplace=True)

# –ò—Ç–æ–≥–æ–≤—ã–π –≤—ã–≤–æ–¥
print("         üìä–ü–æ–¥–≥–æ—Ç–æ–≤–µ–Ω–Ω—ã–π –¥–∞—Ç–∞—Å–µ—Çüìä")
print(data)

# –ì–∏—Å—Ç–æ–≥—Ä–∞–º–º–∞ —Ü–µ–Ω —Å –ø–æ–º–æ—â—å—é –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ matplotlib (–ø–æ x –∑–Ω–∞—á–µ–Ω–∏—è —Å–≤—è–∑–∞–Ω–Ω—ã–µ)
print("==============================================")
print("              –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ü–µ–Ω")
plt.figure(figsize=(10, 6))
plt.hist(data['Fare'], bins=30)
plt.title('–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ü–µ–Ω')
plt.xlabel('–¶–µ–Ω–∞')
plt.ylabel('–ù–æ–º–µ—Ä –ø–∞—Å—Å–∞–∂–∏—Ä–∞')
plt.show()

print("==============================================")
print("              –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–ª–∞")
# –°–∫–æ–ª—å–∫–æ —Ä–∞–∑ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è –∫–∞–∂–¥—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è (–æ–¥–Ω–æ–º–µ—Ä–Ω—ã–π –º–∞—Å—Å–∏–≤)
sex_counts = data['Sex'].value_counts()

plt.figure(figsize=(8, 5))
#–°—Ç–æ–ª–±—á–∞—Ç–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞ (–ø–æ —Ö –∑–Ω–∞—á–µ–Ω–∏—è –Ω–µ—Å–≤—è–∑–∞–Ω–Ω—ã–µ), —Å—Ç–æ–ª–±—Ü—ã –¥–ª—è –∫–∞–∂–¥–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, —Ü–≤–µ—Ç
sex_counts.plot(kind='bar', color=['skyblue', 'pink'])
plt.title('–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ–ª–∞ –ø–∞—Å—Å–∞–∂–∏—Ä–æ–≤')
plt.xlabel('–ü–æ–ª')
plt.ylabel('–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞—Å—Å–∞–∂–∏—Ä–æ–≤')
plt.xticks(rotation=0)  # –ü–æ–¥–ø–∏—Å–∏ –ø–æ –æ—Å–∏ X –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–µ
plt.show()
